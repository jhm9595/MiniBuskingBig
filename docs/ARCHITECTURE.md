# ë²„ìŠ¤í‚¹ í”Œë«í¼ ì•„í‚¤í…ì²˜ ì„¤ê³„

## 1. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ê°œìš”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     í´ë¼ì´ì–¸íŠ¸ ë ˆì´ì–´                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Next.js Web App          â”‚      React Native Mobile        â”‚
â”‚  - SSR/SSG/CSR            â”‚      - iOS / Android           â”‚
â”‚  - WebPush                â”‚      - Push Notification       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–¼ HTTPS/WSS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      API Gateway                            â”‚
â”‚                   (Spring Boot Backend)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Auth    â”‚ Event â”‚ Chat  â”‚ Venue â”‚  Ad   â”‚ Admin â”‚ Payment â”‚
â”‚  Service â”‚Serviceâ”‚Serviceâ”‚Serviceâ”‚Serviceâ”‚Serviceâ”‚ Service â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ë°ì´í„° ë ˆì´ì–´                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  MySQL/PlanetScale  â”‚  Redis Cache  â”‚  Cloudflare R2       â”‚
â”‚  (í•µì‹¬ ë°ì´í„°)        â”‚  (ì„¸ì…˜/ìºì‹œ)   â”‚  (ì´ë¯¸ì§€/ì˜ìƒ)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                ì±„íŒ… ì»¨í…Œì´ë„ˆ ë ˆì´ì–´ (AWS Fargate)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Event 1]  â”‚  [Event 2]  â”‚  [Event 3]  â”‚     ...         â”‚
â”‚  WebSocket  â”‚  WebSocket  â”‚  WebSocket  â”‚                 â”‚
â”‚  Container  â”‚  Container  â”‚  Container  â”‚                 â”‚
â”‚  (ìë™ ìƒì„±/ì‚­ì œ)                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2. í•µì‹¬ ì„¤ê³„ ì›ì¹™

### 2.1 ìš´ì˜ë¹„ ìµœì†Œí™”
- **DB í•„ë“œ ìµœì†Œí™”**: í•µì‹¬ í•„ë“œë§Œ ì •ì˜, í™•ì¥ì€ JSON ì»¬ëŸ¼ í™œìš©
- **ì„œë²„ë¦¬ìŠ¤ ì±„íŒ…**: ê³µì—° ì‹œê°„ì—ë§Œ Docker ì»¨í…Œì´ë„ˆ ì‹¤í–‰ (AWS Fargate)
- **CDN í™œìš©**: ì •ì  ë¦¬ì†ŒìŠ¤ëŠ” Cloudflare CDN
- **ìºì‹± ì „ëµ**: Redisë¡œ ìì£¼ ì¡°íšŒë˜ëŠ” ë°ì´í„° ìºì‹±

### 2.2 í™•ì¥ì„±
- **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì§€í–¥**: ì„œë¹„ìŠ¤ë³„ ëª¨ë“ˆ ë¶„ë¦¬
- **JSON ê¸°ë°˜ í™•ì¥**: ìƒˆ í•„ë“œ ì¶”ê°€ ì‹œ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì—†ì´ JSON í™œìš©
- **ìˆ˜í‰ í™•ì¥**: ì±„íŒ… ì»¨í…Œì´ë„ˆ Auto Scaling

### 2.3 ì„±ëŠ¥
- **Next.js SSG**: ê³µì—° ëª©ë¡ ë“± ì •ì  í˜ì´ì§€ëŠ” ë¹Œë“œ ì‹œ ìƒì„±
- **Next.js ISR**: ê³µì—° ì •ë³´ëŠ” Incremental Static Regeneration
- **WebSocket**: ì‹¤ì‹œê°„ ì±„íŒ…ì€ WebSocket í”„ë¡œí† ì½œ

## 3. ê¸°ìˆ  ìŠ¤íƒ ìƒì„¸

### 3.1 í”„ë¡ íŠ¸ì—”ë“œ
```yaml
Framework: Next.js 14 (App Router)
Language: TypeScript
Styling: Tailwind CSS
State: Zustand (ê²½ëŸ‰ ìƒíƒœê´€ë¦¬)
Real-time: Socket.io-client
Maps: Kakao Maps API
QR: qrcode.react
Payment:
  - KakaoPay SDK
  - NaverPay SDK
  - Apple Pay (iOS)
Push:
  - Web Push API
  - FCM (Firebase Cloud Messaging)
```

### 3.2 ë°±ì—”ë“œ
```yaml
Framework: Spring Boot 3.1.4
Language: Java 21
ORM: Spring Data JPA (Hibernate)
Security: Spring Security + JWT
WebSocket: Spring WebSocket (STOMP)
Validation: Jakarta Validation
Migration: Flyway
API Docs: SpringDoc OpenAPI
```

### 3.3 ì¸í”„ë¼
```yaml
Database:
  - MySQL 8.0 (PlanetScale ê¶Œì¥)
  - Redis (ìºì‹±/ì„¸ì…˜)
Storage: Cloudflare R2 (S3 í˜¸í™˜)
Container:
  - Docker
  - AWS ECS + Fargate (ì±„íŒ… ì„œë²„)
CI/CD: GitHub Actions
Monitoring:
  - Spring Boot Actuator
  - CloudWatch (AWS)
```

## 4. ëª¨ë“ˆ êµ¬ì¡°

### 4.1 Spring Boot ëª¨ë“ˆ
```
backend/
â”œâ”€â”€ src/main/java/com/minibuskingbig/
â”‚   â”œâ”€â”€ common/              # ê³µí†µ ëª¨ë“ˆ
â”‚   â”‚   â”œâ”€â”€ config/         # ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ exception/      # ì˜ˆì™¸ ì²˜ë¦¬
â”‚   â”‚   â”œâ”€â”€ util/          # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â””â”€â”€ dto/           # ê³µí†µ DTO
â”‚   â”‚
â”‚   â”œâ”€â”€ auth/               # ì¸ì¦/ì¸ê°€
â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ repository/
â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â””â”€â”€ entity/
â”‚   â”‚
â”‚   â”œâ”€â”€ user/               # ì‚¬ìš©ì ê´€ë¦¬
â”‚   â”œâ”€â”€ singer/             # ê°€ìˆ˜ í”„ë¡œí•„
â”‚   â”œâ”€â”€ team/               # íŒ€ ê´€ë¦¬
â”‚   â”œâ”€â”€ event/              # ê³µì—° ê´€ë¦¬
â”‚   â”œâ”€â”€ song/               # ê³¡ ê´€ë¦¬
â”‚   â”œâ”€â”€ chat/               # ì±„íŒ… (ì»¨í…Œì´ë„ˆ ê´€ë¦¬)
â”‚   â”œâ”€â”€ venue/              # ì¥ì†Œ ê´€ë¦¬
â”‚   â”œâ”€â”€ ad/                 # ê´‘ê³  ê´€ë¦¬
â”‚   â”œâ”€â”€ subscription/       # êµ¬ë… ê´€ë¦¬
â”‚   â”œâ”€â”€ payment/            # ê²°ì œ ê´€ë¦¬
â”‚   â””â”€â”€ admin/              # ê´€ë¦¬ì
â”‚
â””â”€â”€ resources/
    â”œâ”€â”€ application.yml
    â”œâ”€â”€ application-dev.yml
    â”œâ”€â”€ application-prod.yml
    â””â”€â”€ db/migration/       # Flyway ë§ˆì´ê·¸ë ˆì´ì…˜
```

### 4.2 Next.js êµ¬ì¡°
```
frontend-web/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ (auth)/            # ì¸ì¦ ê·¸ë£¹
â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â””â”€â”€ signup/
â”‚   â”‚   â”œâ”€â”€ (main)/            # ë©”ì¸ ê·¸ë£¹
â”‚   â”‚   â”‚   â”œâ”€â”€ events/        # ê³µì—° ëª©ë¡
â”‚   â”‚   â”‚   â”œâ”€â”€ singers/       # ê°€ìˆ˜ ëª©ë¡
â”‚   â”‚   â”‚   â””â”€â”€ venues/        # ì¥ì†Œ ëª©ë¡
â”‚   â”‚   â”œâ”€â”€ (singer)/          # ê°€ìˆ˜ ê·¸ë£¹
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/     # ê³µì—° ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”‚   â”œâ”€â”€ events/        # ê³µì—° ê´€ë¦¬
â”‚   â”‚   â”‚   â””â”€â”€ songs/         # ê³¡ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ (audience)/        # ê´€ê° ê·¸ë£¹
â”‚   â”‚   â”‚   â”œâ”€â”€ favorites/
â”‚   â”‚   â”‚   â””â”€â”€ subscriptions/
â”‚   â”‚   â”œâ”€â”€ (venue)/           # ì¥ì†Œ ì œê³µì
â”‚   â”‚   â”œâ”€â”€ (advertiser)/      # ê´‘ê³ ì£¼
â”‚   â”‚   â””â”€â”€ (admin)/           # ê´€ë¦¬ì
â”‚   â”‚
â”‚   â”œâ”€â”€ components/            # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ ui/               # UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ layout/           # ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”œâ”€â”€ event/            # ê³µì—° ê´€ë ¨
â”‚   â”‚   â”œâ”€â”€ chat/             # ì±„íŒ…
â”‚   â”‚   â””â”€â”€ map/              # ì§€ë„
â”‚   â”‚
â”‚   â”œâ”€â”€ features/             # ê¸°ëŠ¥ë³„ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ event/
â”‚   â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â””â”€â”€ payment/
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/                # ì»¤ìŠ¤í…€ í›…
â”‚   â”œâ”€â”€ lib/                  # ë¼ì´ë¸ŒëŸ¬ë¦¬
â”‚   â”œâ”€â”€ store/                # Zustand ìŠ¤í† ì–´
â”‚   â””â”€â”€ types/                # TypeScript íƒ€ì…
â”‚
â””â”€â”€ public/
    â”œâ”€â”€ avatars/              # ì•„ë°”íƒ€ ì—ì…‹
    â””â”€â”€ icons/
```

## 5. API ì„¤ê³„

### 5.1 ì¸ì¦ API
```
POST   /api/auth/social/login      # ì†Œì…œ ë¡œê·¸ì¸
POST   /api/auth/logout             # ë¡œê·¸ì•„ì›ƒ
POST   /api/auth/refresh            # í† í° ê°±ì‹ 
GET    /api/auth/me                 # í˜„ì¬ ì‚¬ìš©ì ì •ë³´
POST   /api/auth/verify-email       # ì´ë©”ì¼ ì¸ì¦
```

### 5.2 ê³µì—° API
```
GET    /api/events                  # ê³µì—° ëª©ë¡
GET    /api/events/{id}             # ê³µì—° ìƒì„¸
POST   /api/events                  # ê³µì—° ë“±ë¡
PUT    /api/events/{id}             # ê³µì—° ìˆ˜ì •
DELETE /api/events/{id}             # ê³µì—° ì‚­ì œ
GET    /api/events/map              # ì§€ë„ìš© ê³µì—° ëª©ë¡
```

### 5.3 ê³¡ API
```
GET    /api/events/{eventId}/songs          # ê³¡ ëª©ë¡
POST   /api/events/{eventId}/songs          # ê³¡ ë“±ë¡
PUT    /api/events/{eventId}/songs/{id}     # ê³¡ ìˆ˜ì •
DELETE /api/events/{eventId}/songs/{id}     # ê³¡ ì‚­ì œ
PATCH  /api/events/{eventId}/songs/reorder  # ìˆœì„œ ë³€ê²½
```

### 5.4 ì±„íŒ… API
```
POST   /api/chat/rooms                      # ì±„íŒ…ë°© ìƒì„± (ì»¨í…Œì´ë„ˆ ê¸°ë™)
GET    /api/chat/rooms/{id}                 # ì±„íŒ…ë°© ì •ë³´
DELETE /api/chat/rooms/{id}                 # ì±„íŒ…ë°© ì¢…ë£Œ
POST   /api/chat/rooms/{id}/join            # ì±„íŒ… ì°¸ì—¬
POST   /api/chat/rooms/{id}/leave           # ì±„íŒ… ë‚˜ê°€ê¸°
POST   /api/chat/rooms/{id}/kick            # ê°•ì œí‡´ì¥
GET    /api/chat/rooms/{id}/export          # ì±„íŒ… ë‚´ì—­ ë‹¤ìš´ë¡œë“œ
```

### 5.5 ê²°ì œ API
```
POST   /api/payments/chat                   # ì±„íŒ… ê²°ì œ
POST   /api/payments/subscription           # êµ¬ë… ê²°ì œ
POST   /api/payments/ad-free                # ê´‘ê³  ì œê±° êµ¬ë§¤
POST   /api/payments/verify                 # ê²°ì œ ê²€ì¦
```

## 6. ì±„íŒ… ì»¨í…Œì´ë„ˆ ì•„í‚¤í…ì²˜

### 6.1 ì»¨í…Œì´ë„ˆ ìƒëª…ì£¼ê¸°
```
1. ê³µì—° ë“±ë¡ ì‹œ ì±„íŒ… ì˜µì…˜ ì„ íƒ
2. ê²°ì œ ì™„ë£Œ í›„ chatRoom ë ˆì½”ë“œ ìƒì„±
3. ê³µì—° ì‹œì‘ 10ë¶„ ì „: Fargate íƒœìŠ¤í¬ ì‹¤í–‰
   - Docker ì´ë¯¸ì§€ pull
   - WebSocket ì„œë²„ ì‹œì‘
   - chatRoom.websocket_url ì—…ë°ì´íŠ¸
4. ê³µì—° ì§„í–‰ ì¤‘: WebSocket ì—°ê²° ìœ ì§€
5. ê³µì—° ì¢…ë£Œ í›„:
   - ì±„íŒ… ë¡œê·¸ ì €ì¥
   - ì»¨í…Œì´ë„ˆ ì¢…ë£Œ
   - Fargate íƒœìŠ¤í¬ ì‚­ì œ
```

### 6.2 ì»¨í…Œì´ë„ˆ êµ¬ì¡°
```dockerfile
FROM node:20-alpine

WORKDIR /app

COPY package*.json ./
RUN npm ci --only=production

COPY . .

EXPOSE 8081

CMD ["node", "server.js"]
```

### 6.3 WebSocket ì„œë²„ (Node.js)
```javascript
// chat-server/server.js
const express = require('express');
const http = require('http');
const socketIo = require('socket.io');

const app = express();
const server = http.createServer(app);
const io = socketIo(server);

const MAX_PARTICIPANTS = process.env.MAX_PARTICIPANTS || 50;
let currentParticipants = 0;

io.on('connection', (socket) => {
  if (currentParticipants >= MAX_PARTICIPANTS) {
    socket.emit('error', { message: 'ì±„íŒ… ì¸ì› ì´ˆê³¼' });
    socket.disconnect();
    return;
  }

  currentParticipants++;

  socket.on('message', (data) => {
    io.emit('message', {
      userId: data.userId,
      nickname: data.nickname,
      avatar: data.avatar,
      message: data.message,
      senderType: data.senderType,
      timestamp: Date.now()
    });
  });

  socket.on('disconnect', () => {
    currentParticipants--;
  });
});

server.listen(8081);
```

## 7. ê²°ì œ í”Œë¡œìš°

### 7.1 ì±„íŒ… ê²°ì œ
```
1. ê°€ìˆ˜ê°€ ê³µì—° ë“±ë¡ ì‹œ ì±„íŒ… ì˜µì…˜ ì„ íƒ
2. ì˜ˆìƒ ê¸ˆì•¡ ê³„ì‚° (ì‹œê°„ë‹¹ 1,000ì›)
3. ê²°ì œ ìš”ì²­:
   - ì‚¬ì „ ë“±ë¡ëœ ì¹´ë“œ
   - KakaoPay/NaverPay/ApplePay
4. PGì‚¬ ê²°ì œ ìŠ¹ì¸
5. Payment ë ˆì½”ë“œ ìƒì„±
6. Event.chat_payment_status = 'PAID'
7. ê³µì—° 10ë¶„ ì „ ì»¨í…Œì´ë„ˆ ìë™ ê¸°ë™
```

### 7.2 VIP êµ¬ë… ê²°ì œ
```
1. ê´€ê°ì´ íŠ¹ì • ê°€ìˆ˜ì—ê²Œ ë“±ê¸‰ ìƒìŠ¹ ìš”ì²­
2. ê°€ìˆ˜ ìŠ¹ì¸
3. ì›” êµ¬ë…ë£Œ ê²°ì œ (ìë™ ê°±ì‹ )
4. Subscription ë ˆì½”ë“œ ìƒì„±
5. User.audience_tier = 'VIP'
6. ìˆ˜ìµ ë¶„ë°°: í”Œë«í¼ 50% / ê°€ìˆ˜ 50%
```

## 8. ì•Œë¦¼ ì‹œìŠ¤í…œ

### 8.1 WebPush (ì›¹)
```javascript
// Frontend
if ('serviceWorker' in navigator && 'PushManager' in window) {
  const registration = await navigator.serviceWorker.register('/sw.js');
  const subscription = await registration.pushManager.subscribe({
    userVisibleOnly: true,
    applicationServerKey: VAPID_PUBLIC_KEY
  });

  // ì„œë²„ì— subscription ì „ì†¡
  await fetch('/api/push/subscribe', {
    method: 'POST',
    body: JSON.stringify(subscription)
  });
}
```

### 8.2 ì•Œë¦¼ íŠ¸ë¦¬ê±°
```java
// Backend
@Scheduled(cron = "0 * * * * *") // ë§¤ë¶„ ì‹¤í–‰
public void checkUpcomingEvents() {
    List<Event> events = eventRepository.findUpcomingIn30Minutes();

    for (Event event : events) {
        pushService.sendNotification(
            event.getSinger().getUser(),
            "30ë¶„ í›„ ê³µì—° ì‹œì‘",
            event.getTitle()
        );
    }
}
```

## 9. ë³´ì•ˆ

### 9.1 ì¸ì¦/ì¸ê°€
- **JWT**: Access Token (1ì‹œê°„) + Refresh Token (7ì¼)
- **ì†Œì…œ ë¡œê·¸ì¸**: OAuth 2.0
- **ê¶Œí•œ ì²´ê³„**: ROLE_AUDIENCE, ROLE_SINGER, ROLE_BUSINESS, ROLE_ADMIN

### 9.2 API ë³´ì•ˆ
- **CORS**: í—ˆìš©ëœ ë„ë©”ì¸ë§Œ ì ‘ê·¼
- **Rate Limiting**: Redis ê¸°ë°˜ ìš”ì²­ ì œí•œ
- **Input Validation**: Jakarta Validation
- **SQL Injection ë°©ì§€**: Prepared Statement (JPA)

### 9.3 ë°ì´í„° ë³´ì•ˆ
- **ë¹„ë°€ë²ˆí˜¸**: ì—†ìŒ (ì†Œì…œ ë¡œê·¸ì¸ë§Œ)
- **ê°œì¸ì •ë³´**: ì´ë©”ì¼, ì—°ë½ì²˜ ì•”í˜¸í™” ì €ì¥
- **ê²°ì œì •ë³´**: PGì‚¬ì— ìœ„ì„ (ì¹´ë“œë²ˆí˜¸ ë¯¸ì €ì¥)

## 10. ì„±ëŠ¥ ìµœì í™”

### 10.1 ë°ì´í„°ë² ì´ìŠ¤
- **ì¸ë±ìŠ¤**: ìì£¼ ì¡°íšŒë˜ëŠ” ì»¬ëŸ¼ì— ì¸ë±ìŠ¤
- **ì—°ê´€ ê´€ê³„**: Lazy Loading ê¸°ë³¸, í•„ìš”ì‹œ Fetch Join
- **í˜ì´ì§•**: Offset ëŒ€ì‹  Cursor ê¸°ë°˜ í˜ì´ì§•

### 10.2 ìºì‹±
```java
@Cacheable(value = "events", key = "#eventId")
public Event getEvent(Long eventId) {
    return eventRepository.findById(eventId);
}

@CacheEvict(value = "events", key = "#event.id")
public Event updateEvent(Event event) {
    return eventRepository.save(event);
}
```

### 10.3 Next.js ìµœì í™”
```typescript
// ê³µì—° ëª©ë¡: Static Generation
export const generateStaticParams = async () => {
  const events = await fetch('/api/events').then(r => r.json());
  return events.map(e => ({ id: e.id.toString() }));
};

// ê³µì—° ìƒì„¸: ISR (1ë¶„ë§ˆë‹¤ ì¬ìƒì„±)
export const revalidate = 60;
```

## 11. ëª¨ë‹ˆí„°ë§

### 11.1 ë©”íŠ¸ë¦­
- **ì„œë²„**: CPU, ë©”ëª¨ë¦¬, ìš”ì²­ ìˆ˜, ì‘ë‹µ ì‹œê°„
- **ì±„íŒ… ì»¨í…Œì´ë„ˆ**: ë™ì‹œ ì ‘ì†ì, ë©”ì‹œì§€ ì²˜ë¦¬ëŸ‰
- **ê²°ì œ**: ì„±ê³µë¥ , ì‹¤íŒ¨ ì›ì¸
- **ì‚¬ìš©ì**: DAU, MAU, ì²´ë¥˜ ì‹œê°„

### 11.2 ë¡œê¹…
```yaml
Logging:
  - Application: Logback (JSON í¬ë§·)
  - Access: Nginx Access Log
  - Error: Sentry
  - Audit: ì£¼ìš” ì´ë²¤íŠ¸ DB ì €ì¥
```

## 12. ë°°í¬ ì „ëµ

### 12.1 í™˜ê²½ ë¶„ë¦¬
- **dev**: ê°œë°œ í™˜ê²½ (ë¡œì»¬)
- **staging**: ìŠ¤í…Œì´ì§• (ì‹¤ ì„œë²„ì™€ ë™ì¼ êµ¬ì„±)
- **prod**: í”„ë¡œë•ì…˜

### 12.2 CI/CD
```yaml
GitHub Actions:
  - PR ìƒì„±: í…ŒìŠ¤íŠ¸ ì‹¤í–‰
  - main ë³‘í•©:
    - Docker ì´ë¯¸ì§€ ë¹Œë“œ
    - ECR í‘¸ì‹œ
    - ECS ë°°í¬ (ë¡¤ë§ ì—…ë°ì´íŠ¸)
  - íƒœê·¸ ìƒì„±: í”„ë¡œë•ì…˜ ë°°í¬
```

## ë‹¤ìŒ ë‹¨ê³„

1. âœ… ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì„¤ê³„ ì™„ë£Œ
2. âœ… ì•„í‚¤í…ì²˜ ì„¤ê³„ ì™„ë£Œ
3. ğŸ”„ Spring Boot Entity ì‘ì„±
4. ğŸ”„ Repository & Service êµ¬í˜„
5. ğŸ”„ REST API êµ¬í˜„
6. ğŸ”„ Next.js í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„
